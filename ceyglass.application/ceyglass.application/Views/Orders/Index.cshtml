@{
    Layout = null;
}
<!--common scripts-->
<script src="~/Content/application/js/jquery.dataTables.min.js"></script>
<script src="~/Content/application/js/jquery.dataTables.bootstrap.js"></script>
<script src="~/Scripts/erp/manage_orders_common.js"></script>

<div class="row" style="margin-bottom: 10px;">
    <div class="col-sm-3">
        <label class="control-label no-padding-right">Order Type :  </label>
    </div>
    <div class="col-sm-4">
        <select id="select-order-status" class="col-xs-10 col-sm-8">
        </select>
    </div>
</div>
@*order table related to Merchandiser*@
@if (User.IsInRole("Merchandiser"))
{
    <div class="row">
        <button id="btn-add-order" class="btn btn-info btn-block"><i class="icon-plus-sign bigger-130"></i>&nbsp;add order</button>
        <br />
        <table id="orders-list" class="table table-striped table-bordered table-hover">
        </table>
    </div>
       
    <!--script related to merchandiser-->
    <script src="~/Scripts/erp/manage_orders_merchandiser.js"></script>
}

@*order table related to production manager*@
@if (User.IsInRole("ProductionManager"))
{
    <style type="text/css">
        .order-item
        {
            float: left;
            width: 100%;
            margin-bottom: 5px;
        }
    </style>
    
    <div class="row" style="margin-bottom: 5px; text-align: right;">

        <button id="btn-addto-inventory" class="btn btn-sm btn-info">
            <i class="icon-plus-sign bigger-130"></i>&nbsp;Add finish goods to inventory
        </button>

        <button id="btn-req-items" class="btn btn-sm btn-primary">
            <i class="icon-wrench bigger-130"></i>&nbsp;Production plan / Inventory
        </button>

        <button id="btn-internal-order" class="btn btn-sm btn-success">
            <i class="icon-pencil align-top bigger-125"></i>
            Create Internal Order
        </button>

    </div> 
    <div class="row">
        <table id="orders-list-prod" class="table table-striped table-bordered table-hover">
        </table>
    </div> 
    
    <!--order inventory model-->
    <div id="model-inventory-order" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    Manage Production Plan & Orders Inventories
                </div>
                <!-- dialog body -->
                <div class="modal-body">
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right">Production Plant </label>
                            <div class="col-sm-9">
                                <select id="select-plant" class="col-sm-6">
                                </select>
                            </div>
                        </div>
                        <div class="space-4"></div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right">Product </label>
                            <div class="col-sm-9">
                                <input type="text" id="txt-product" class="col-sm-6" readonly="" />
                                <input type="hidden" id="hf-productId" value="-1" />
                            </div>
                        </div>
                        <div class="space-4"></div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right">Requested Qty </label>
                            <div class="col-sm-9">
                                <input type="text" id="txt-req-qty" class="col-sm-6" readonly="" />
                            </div>
                        </div>
                        <div class="space-4"></div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right">Production Qty </label>
                            <div class="col-sm-9">
                                <input type="text" id="txt-manuf-qty" class="col-sm-6" readonly="" />
                            </div>
                        </div>
                        <div class="space-4"></div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right">In stocks </label>
                            <div class="col-sm-9">
                                <input type="text" id="txt-stocks" class="col-sm-6" readonly="" />
                            </div>
                        </div>
                        <div class="space-4"></div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right">From stocks </label>
                            <div class="col-sm-9">
                                <input type="text" id="txt-from-stocks" class="col-sm-6" onkeypress="return IsNumberKey(event);" />
                            </div>
                        </div>
                        <div class="space-4"></div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right">Required by </label>
                            <div class="col-sm-9">
                                <input type="text" id="datepicker-production-sdate" class="datepicker" />
                            </div>
                        </div>
                        <div class="space-4"></div>

                        <fieldset id="fs-order-items">
                            <legend>Order Item(s)</legend>
                            <div class="row">
                                <!--odrdering items will be dynamically loaded here-->
                                <div id="div-order-list" class="col-sm-12">
                                </div>
                            </div>
                        </fieldset>

                        <div class="space-4"></div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label no-padding-right">Special notes </label>
                            <div class="col-sm-9">
                                <textarea id="txt-notes" class="col-xs-10"></textarea>
                            </div>
                        </div>
                        <div class="space-4"></div>

                    </div>
                    <!-- dialog buttons -->
                    <div class="modal-footer">
                        <button id="btn-order-inventory" type="button" class="btn btn-primary">Order</button>
                        <input id="hf-cust-orderId" type="hidden" value="-1" />
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!--script related to production manager-->
    <script src="~/Scripts/erp/manage_orders_production_mgr.js"></script>
}


<!--order model-->
<div id="model-order" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                Manage Orders
            </div>
            <!-- dialog body -->
            <div class="modal-body">
                <div class="form-horizontal">
                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right">Order date </label>
                        <div class="col-sm-9">
                            <input type="text" id="datepicker-orderdate" class="datepicker" />
                        </div>
                    </div>
                    <div class="space-4"></div>

                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right">Cutomer </label>
                        <div class="col-sm-9">
                            <!--customer list will be dynamically added-->
                            <select id="select-customers" style="width: 75%">
                            </select>
                        </div>
                    </div>
                    <div class="space-4"></div>

                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right">Product </label>
                        <div class="col-sm-9">
                            <!--product list will be dynamically added-->
                            <select id="select-product" style="width: 75%">
                            </select>
                        </div>
                    </div>
                    <div class="space-4"></div>

                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right">Unit Price </label>
                        <div class="col-sm-9">
                            <input id="txt-unitprice" class="col-xs-2" type="number" readonly="true">
                        </div>
                    </div>
                    <div class="space-4"></div>

                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right">Quantity </label>
                        <div class="col-sm-9">
                            <input id="txt-quantity" class="col-xs-2" type="text"
                                onkeypress="return IsNumberKey(event);" placeholder="qty">
                        </div>
                    </div>
                    <div class="space-4"></div>

                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right">Dilivery date </label>
                        <div class="col-sm-9">
                            <input type="text" id="datepicker-duedate" class="datepicker" />
                        </div>
                    </div>
                    <div class="space-4"></div>

                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right">Delivery Address </label>
                        <div class="col-sm-9">
                            <textarea id="txt-delivery-address" class="col-xs-10"></textarea>
                        </div>
                    </div>
                    <div class="space-4"></div>

                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right">Delivery Instructions </label>
                        <div class="col-sm-9">
                            <textarea id="txt-delivery-inst" class="col-xs-10"></textarea>
                        </div>
                    </div>
                    <div class="space-4"></div>

                </div>
                <!-- dialog buttons -->
                <div class="modal-footer">
                    <button id="btn-add-cust-order" type="button" class="btn btn-primary">Save</button>
                    <input type="hidden" id="hf-orderId" value="-1" />
                </div>
            </div>
        </div>
    </div>
</div>


